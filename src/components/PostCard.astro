---
import { Image } from 'astro:assets'

const { post } = Astro.props
---

<article class="rounded-lg border-1 border-muted/80 bg-primary-foreground hover:border-primary/10 overflow-hidden">
  {post.data.cover && (
    <a href={`/posts/${post.slug}`}>
      <Image src={post.data.cover} alt={post.data.title} class="w-full h-48 object-cover" />
    </a>
  )}
  <div class="p-6">
    <h2 class="text-lg font-bold mb-2 hover:text-primary transition-colors">
      <a href={`/posts/${post.slug}`}>{post.data.title}</a>
    </h2>
    <p class="text-muted-foreground mb-4">{post.data.description}</p>
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-2 text-sm text-muted-foreground">
        <time datetime={post.data.createdAt.toISOString()}>
          {post.data.createdAt.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
        </time>
      </div>
      <div class="flex items-center space-x-2">
        {post.data.tags?.map((tag: string) => (
          <a href={`/tags/${tag}`} class="text-xs bg-muted px-2 py-1 rounded-full hover:bg-primary hover:text-primary-foreground transition-colors">
            {tag}
          </a>
        ))}
      </div>
    </div>
  </div>
</article>
